# [[D3D11]] - DirectX 11 平台定义

## 概述

- **文件路径**：`Packages/com.unity.render-pipelines.core/ShaderLibrary/API/D3D11.hlsl`
- **主要职责**：定义 DirectX 11 平台的特定宏和抽象
- **使用场景**：Windows、Xbox One 平台

## 核心定义

### 坐标系统

```hlsl
#define UNITY_UV_STARTS_AT_TOP 1      // UV 从顶部开始
#define UNITY_REVERSED_Z 1            // 反转 Z 缓冲区
#define UNITY_NEAR_CLIP_VALUE (1.0)   // 近裁剪面值
#define UNITY_RAW_FAR_CLIP_VALUE (0.0) // 远裁剪面原始值
```

### 语义定义

```hlsl
#define VERTEXID_SEMANTIC SV_VertexID
#define INSTANCEID_SEMANTIC SV_InstanceID
#define FRONT_FACE_SEMANTIC SV_IsFrontFace
#define FRONT_FACE_TYPE bool
```

### 常量缓冲区

```hlsl
#define CBUFFER_START(name) cbuffer name {
#define CBUFFER_END };
```

### 纹理抽象

```hlsl
#define TEXTURE2D(textureName) Texture2D textureName
#define SAMPLER(samplerName) SamplerState samplerName
#define SAMPLE_TEXTURE2D(textureName, samplerName, coord2) \
    textureName.Sample(samplerName, coord2)
```

### 流控制属性

```hlsl
#define UNITY_BRANCH  [branch]
#define UNITY_FLATTEN [flatten]
#define UNITY_UNROLL  [unroll]
#define UNITY_LOOP    [loop]
```

## 平台特性

- 支持显式绑定（`PLATFORM_SUPPORTS_EXPLICIT_BINDING`）
- 支持像素着色器中的缓冲区原子操作
- 支持原始 ID 在像素着色器中

## 与其他模块的关系

- [[Common]]：被 Common.hlsl 自动包含
- [[Validate]]：平台验证

